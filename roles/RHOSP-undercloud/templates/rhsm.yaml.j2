resource_registry:
  OS::TripleO::Services::Rhsm: /usr/share/openstack-tripleo-heat-templates/deployment/rhsm/rhsm-baremetal-ansible.yaml
parameter_defaults:
  RhsmVars:
    rhsm_repos: {{ RHOSP_version_supported[RHOSP_version].repos }}
{% if (rh_orgid is defined) and (rh_activationkey is defined) %}
    rhsm_org_id: "{{ rh_orgid }}"
    rhsm_activation_key: "{{ rh_activationkey }}"
{% endif %}
{% if (rh_orgid is not defined) or (rh_activationkey is not defined) %}    
    rhsm_username: "{{ rh_username }}"
    rhsm_password: "{{ rh_password }}"
    rhsm_autosubscribe: true
{% endif %}
    rhsm_method: "portal"
    rhsm_release: {{ RHOSP_version_supported[RHOSP_version].rhel_release }}
